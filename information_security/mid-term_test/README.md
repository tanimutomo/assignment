# Mid-Term Test

- 情報セキュリティとは
  - CIAの3つの状態を維持すること
  - CIAとは
    - Confidentiality: 秘匿性
      - 情報が他人に漏れない
    - Integrity: 完全性
      - 情報が勝手に変更されない
    - Availability: 可用性
      - 情報を必要な時にアクセスできる
    - 以下の2つを含む場合もある
      - Accountability: 追跡性
        - 利用ログの追跡ができる
      - Non Repudiency: 否認拒否性
        - 行った行為を後から否定することはできない
- 情報セキュリティの3要素
  - 資産
  - 脅威
    - 要員主体別
      - 災害 / 障害 / 外部利用者 / 内部利用者 / 外部攻撃者
    - 要員タイプ別
      - 環境的脅威: 地震，洪水，火災，落雷
      - 人的脅威:
        - 偶発的脅威: 誤操作，入力ミス，設定ミス
        - 意図的脅威: 不正アクセス，ウイルス，盗聴，改竄
    - 脅威モデル (STRIDE)
      - S: Spoofing (なりすまし)
        - 他の利用者やコンポーネント，システムのアイデンティティになりすます行為
        - 秘匿性，完全性に対する脅威
      - T: Tampering (改竄)
        - 悪意を持ってシステムのデータを改竄する．
        - 完全性に対する脅威
      - R: Repudiation (否認)
        - ある悪意のある行為を行った事実を認めない行為
        - 否認拒否性に対する脅威
      - I: Information Disclosure (漏洩)
        - 保護されたデータが権限のない人物に閲覧される
        - 秘匿性に対する脅威
      - D: Denial of Service (サービス妨害)
        - ユーザが必要なサービスを利用することを妨害
        - 可用性に対する脅威
      - E: Elevation of Privilege (権限の昇格)
        - 攻撃者が本来保有すべきでない権限が利用可能な状態になること
        - 秘匿性，完全性に対する脅威
  - 脆弱性
    - 主要なタイプ
      - メモリ操作
        - バッファオーバーフロー
          - 格納できる量より多くのデータを入力
        - フォーマットストリングバグ
          - printfのフォーマット指定子を入力して，データの内容を読む
        - インテジャオーバーフロー
          - 変数が格納できるより大きな値を入力する
      - 時間やステート
        - レースコンディション
          - 同一のリソースを2つのプロセスが同時にRWしてしまう
        - セッションハイジャッキング
          - cookie 情報を盗み取る
      - 文字列処理
        - SQLインジェクション
          - SQLで検索しそうなところを見抜いて，いい感じの条件指定をするキーワードを入力する
        - コマンド・インジェクション
          - SQLインジェクションのコマンドバージョン
        - クロスサイト・スクリプティング
          - SNS等で，cookieなどを取得するためのスクリプトが実行されるリンクを埋め込んだものを投稿する
          - 入力内容に制限がない場合には実行できてしまう場合が多い
        - ディレクトリ・トラバーサル
          - `..`を利用して，上位階層のディレクトリの情報を抜き取る
      - 設計
        - クロスサイトリクエストフォージェリ?
          - 攻撃用のamazon偽サイトを作成して， アクセスしたユーザが高額の商品を購入するスクリプトを埋め込んでおく
        - SSL/TLSの不適切な利用
          - オレオレ証明書や期限切れの証明書を使っている

- セキュリティの原則
  - 多重防御の原則
    - 単一障害点の排除
    - システムのセキュリティに冗長性を持たせることで，攻撃のコストを増大する (メンテナンスコストも増大する)
  - 最小特権
    - 各サブジェクト (ユーザ，アプリケーション) は，タスクを行うのに必要最低限の権限を持つ
  - 分割化
    - 資産 (リソース) を分割する．DB, DNS, HTTP Handler,　etc.
  - 最弱点強化
    - システムの強度は，最弱ポイントで決定するため，そこを見つけて強化せよ
  - シンプルに
    - 使わないものは排除し，システムはシンプルにせよ．複雑なものは管理しきれない
  - 多様性による防御
    - 異なるベンダーの製品を利用する
  - フェイルセキュア / フェイルセーフ
    - システムに障害が発生した場合に安全な状態を維持
    - 火事の発生時に，Lock / Unlock
  - 隠蔽によるセキュリティ
    - openなシステムであれば，研究者が脆弱性を発見してくれる可能性がある
    - 見つからなければセキュアだが，見つかったら終了になる可能性が高い
- アクセスコントロール (4つ)
  - Identification (識別)
    - エンティティ同士を区別するために，識別子をシステムに提示する
    - いわゆるIDで，mail addressやuser id
    - 使用するものの例
      - 知っているもの
        - パスワード，パスフレーズ，PIN
      - 持っているもの
        - トークン，カード
      - 本人の体
        - 指紋，顔認識，光彩
      - 生成物
        - サイン，声紋
      - 上記の組み合わせ
        - 多要素認証
  - Authorization (認証)
    - あるエンティティが主張するアイデンティティが正しいかを識別する
    - ログイン．識別とPasswordを使うなど
  - Authorization (認可)
    - あるエンティティに対してシステム上のリソースへのアクセスを許可する
    - ファイル/S3へのアクセス権限を付与するなど
  - Accountability (責任)
    - ある行為に対して，行ったエンティティの責任であることを確認できるようにすること
    - zoomはメールアドレスを登録するため，本人やその人が学生であることを特定できる
- NAT/NAPTによるセキュリティ
  - 外部からは内部のプライベートIPアドレスを知る由がないので，外部から一方的にアクセスすることができない
  - 外部からは，内部からのリクエストに対する返信のみが可能